command: ../predict.py --checkpoint ../checkpoints/finetune_clean/sleek-cloud-581_9M_448+296k/checkpoint-294952
  --output-folder predictions --config-file configs/predict_mona_beam50.yaml
cuda_visible_devices: '2'
dataloader:
  batch_size: 1
  num_workers: 1
dataset:
  data_path: data/extra_libraries/MONA_GCMS/MONA_GCMS_noD.jsonl
  data_split: all
  dataset_name: MONA_GCMS
general:
  additional_naming_info: beam50
  device: cuda
generation_args:
  do_sample: false
  length_penalty: 1.0
  max_length: 200
  num_beams: 50
  num_return_sequences: 50
  penalty_alpha: null
  temperature: null
  top_k: null
  top_p: null
preprocess_args:
  inference_mode: true
  log_base: 1.28
  log_shift: 29
  max_cumsum: null
  max_mol_repr_len: 100
  max_mz: 500
  max_num_peaks: 300
  mol_repr: smiles
  restrict_intensities: false
  source_token: <nist>
start_loading_time: 12/12/2024 15:08:23
tokenizer_path: tokenizer/tokenizer_mf10M.model
finished_time_utc: 13/12/2024 10:52:37
generation_time: '19:44:10'
wall_time_utc: '19:44:14'
evaluation_0:
    average_num_of_predictions: '37.63489531405783'
    eval_config:
        do_db_search: false
        filtering_args:
            max_mol_repr_len: 100
            max_mz: 500
            max_num_peaks: 300
            mol_repr: smiles
        fingerprint_type: morgan
        fp_simil_function: tanimoto
        on_the_fly: true
        save_best_predictions: true
        threshold: 0.85
    eval_time: 00:00:37
    formula_stats:
        num_all_correct_formulas: 13415 / 188739
        num_at_least_one_correct_formula: '2858'
        num_correct_formulas_at_best_prob: '1860'
        num_correct_formulas_at_best_simil: '2285'
        rate_of_all_correct_formulas: '0.07107698991729319'
        rate_of_at_least_one_correct_formula: '0.5698903290129611'
        rate_of_correct_formulas_at_best_prob: '0.3708873379860419'
        rate_of_correct_formulas_at_best_simil: '0.4556331006979063'
    hit_at_k_prob: '[(1, 0.20319042871385842), (2, 0.2580259222333001), (3, 0.2823529411764706),
        (4, 0.30309072781655033), (5, 0.31625124626121637), (6, 0.3242273180458624),
        (7, 0.3312063808574277), (8, 0.33599202392821537), (9, 0.3395812562313061),
        (10, 0.34257228315054833), (11, 0.3465603190428714), (12, 0.34795613160518446),
        (13, 0.34995014955134596), (14, 0.35214356929212365), (15, 0.3551345962113659),
        (16, 0.35633100697906284), (17, 0.35852442671984047), (18, 0.3601196410767697),
        (19, 0.36311066799601194), (20, 0.36490528414755735), (21, 0.3665004985044865),
        (22, 0.3674975074775673), (23, 0.3686939182452642), (24, 0.3694915254237288),
        (25, 0.3706879361914257), (26, 0.3712861415752742), (27, 0.3720837487537388),
        (28, 0.3728813559322034), (29, 0.3732801595214357), (30, 0.37387836490528414),
        (32, 0.3744765702891326), (33, 0.37547357926221336), (34, 0.376271186440678),
        (35, 0.3764705882352941), (37, 0.37666999002991025), (38, 0.37686939182452645),
        (44, 0.3770687936191426), (49, 0.3772681954137587)]'
    labels_path: data/extra_libraries/MONA_GCMS/MONA_GCMS_noD.jsonl
    molecular_weight_stats:
        mean_absolute_mw_difference_best_prob: '58.322887819388264'
        mean_absolute_mw_difference_best_simil: '63.525228905246045'
        mean_relative_mw_difference_best_prob: 34.64%
        mean_relative_mw_difference_best_simil: 37.25%
        rate_of_exact_mw_prob: '0.3665004985044865'
        rate_of_exact_mw_simil: '0.4370887337986042'
        rate_of_exact_nominal_mw_prob: '0.4139581256231306'
        rate_of_exact_nominal_mw_simil: '0.45782652043868394'
        rate_of_mw_difference_less_than_1_best_prob: '0.4362911266201396'
        rate_of_mw_difference_less_than_1_best_simil: '0.47098703888335'
    num_datapoints_tested: '5015'
    num_empty_preds: '0'
    num_predictions_at_k_counter: '[5015, 4948, 4891, 4851, 4815, 4763, 4725, 4692,
        4664, 4630, 4608, 4557, 4508, 4488, 4450, 4419, 4401, 4369, 4322, 4298, 4265,
        4230, 4177, 4142, 4104, 4052, 4027, 3988, 3925, 3878, 3820, 3762, 3699, 3635,
        3549, 3461, 3380, 3292, 3197, 3090, 2964, 2832, 2694, 2515, 2315, 2078, 1844,
        1545, 1158, 707]'
    precise_preds_stats:
        num_precise_preds_probsort: '980'
        num_precise_preds_similsort: '1853'
        rate_of_precise_preds_probsort: '0.19541375872382852'
        rate_of_precise_preds_similsort: '0.3694915254237288'
    simil_1_hits:
        counter_multiple_hits: dict_items([(1, 1743), (2, 97), (6, 6), (5, 4), (3,
            28), (4, 9), (11, 1), (8, 1), (7, 1), (13, 1), (17, 1)])
        num_1_hits_as_first_probsort: '1019'
        num_1_hits_as_first_similsort: '1892'
        num_fp_simil_fail_prob: '39'
        num_fp_simil_fail_simil: '39'
        rate_of_1_hits_as_first_probsort: '0.20319042871385842'
        rate_of_1_hits_as_first_similsort: '0.3772681954137587'
    start_time_utc: 14/12/2024 16:57:07
    threshold_stats:
        num_better_than_threshold_probsort: '1047'
        num_better_than_threshold_similsort: '1916'
        rate_of_better_than_threshold_probsort: '0.20877367896311066'
        rate_of_better_than_threshold_similsort: '0.3820538384845464'
        threshold: '0.85'
    topk_probsort: '[0.40966414672461926, 0.3185369400594018, 0.2838827232588318,
        0.2735528187058555, 0.2611063448708518, 0.25145029608726255, 0.24577427608049254,
        0.23924162822246917, 0.23718834932496913, 0.23184005827030246, 0.2308662521398559,
        0.22808689806002852, 0.2265454220605046, 0.2246515789368767, 0.22527475860466598,
        0.21672941977771484, 0.21789825063891613, 0.21924250231665862, 0.21208828015850836,
        0.21035941599654417, 0.20893594743925545, 0.20840877230973578, 0.20972310978121692,
        0.20907929203924228, 0.20570822522911292, 0.2011674734642072, 0.20418022043961262,
        0.20082362913154628, 0.19816542301565632, 0.19492799487181614, 0.194954022536725,
        0.1934433140056742, 0.1919617742818834, 0.18995818560322386, 0.18687769113524563,
        0.18834570950949256, 0.1853285568567203, 0.1866655758121681, 0.18161635625653,
        0.18221547357884765, 0.17642336366470532, 0.17516574843242408, 0.1740500682757019,
        0.16996804722498088, 0.16738001839585878, 0.16769935046685483, 0.1639088855080355,
        0.16147985177381363, 0.1557055937156072, 0.15015506545106]'
    topk_similsort: '[0.5781867645490482, 0.4114135835747013, 0.36065368911447326,
        0.33258339836063977, 0.3138128466004257, 0.29957410191644307, 0.28746051649859383,
        0.27719763618045185, 0.26809638629468685, 0.2599196165270204, 0.2523158559987881,
        0.2461282183019872, 0.24020490422141744, 0.23417655468956403, 0.22870150611121853,
        0.2235315209414762, 0.21874609589526156, 0.2140309860641081, 0.20984974815756793,
        0.20577958862063078, 0.20162724187558784, 0.19756418363992864, 0.19386760006936407,
        0.19023456373635073, 0.18634005440340487, 0.1828969376265277, 0.17947263253153667,
        0.1754137709468241, 0.17129297129897492, 0.16754690332808728, 0.16406489169577418,
        0.16087063773846552, 0.15678687053966628, 0.1531476434823118, 0.14923530725692066,
        0.14541686797640072, 0.141759560734974, 0.13810357423510208, 0.13404452834042618,
        0.12992304040924618, 0.1259750264801915, 0.12298069970950837, 0.11822180120892538,
        0.11493839410381078, 0.1104235814446031, 0.10680939764861316, 0.10198923531253458,
        0.09593980236299116, 0.08902802385578022, 0.0806619722898497]'
evaluation_1:
    average_num_of_predictions: '37.63489531405783'
    eval_config:
        do_db_search: false
        filtering_args:
            max_mol_repr_len: 100
            max_mz: 500
            max_num_peaks: 300
            mol_repr: smiles
        fingerprint_type: morgan
        fp_simil_function: tanimoto
        on_the_fly: true
        save_best_predictions: true
        threshold: 0.85
    eval_time: 00:00:37
    formula_stats:
        num_all_correct_formulas: 13415 / 188739
        num_at_least_one_correct_formula: '2858'
        num_correct_formulas_at_best_prob: '1860'
        num_correct_formulas_at_best_simil: '2285'
        rate_of_all_correct_formulas: '0.07107698991729319'
        rate_of_at_least_one_correct_formula: '0.5698903290129611'
        rate_of_correct_formulas_at_best_prob: '0.3708873379860419'
        rate_of_correct_formulas_at_best_simil: '0.4556331006979063'
    hit_at_k_prob: '[(1, 0.20319042871385842), (2, 0.2580259222333001), (3, 0.2823529411764706),
        (4, 0.30309072781655033), (5, 0.31625124626121637), (6, 0.3242273180458624),
        (7, 0.3312063808574277), (8, 0.33599202392821537), (9, 0.3395812562313061),
        (10, 0.34257228315054833), (11, 0.3465603190428714), (12, 0.34795613160518446),
        (13, 0.34995014955134596), (14, 0.35214356929212365), (15, 0.3551345962113659),
        (16, 0.35633100697906284), (17, 0.35852442671984047), (18, 0.3601196410767697),
        (19, 0.36311066799601194), (20, 0.36490528414755735), (21, 0.3665004985044865),
        (22, 0.3674975074775673), (23, 0.3686939182452642), (24, 0.3694915254237288),
        (25, 0.3706879361914257), (26, 0.3712861415752742), (27, 0.3720837487537388),
        (28, 0.3728813559322034), (29, 0.3732801595214357), (30, 0.37387836490528414),
        (32, 0.3744765702891326), (33, 0.37547357926221336), (34, 0.376271186440678),
        (35, 0.3764705882352941), (37, 0.37666999002991025), (38, 0.37686939182452645),
        (44, 0.3770687936191426), (49, 0.3772681954137587)]'
    labels_path: data/extra_libraries/MONA_GCMS/MONA_GCMS_noD.jsonl
    molecular_weight_stats:
        mean_absolute_mw_difference_best_prob: '58.322887819388264'
        mean_absolute_mw_difference_best_simil: '63.525228905246045'
        mean_relative_mw_difference_best_prob: 34.64%
        mean_relative_mw_difference_best_simil: 37.25%
        rate_of_exact_mw_prob: '0.3665004985044865'
        rate_of_exact_mw_simil: '0.4370887337986042'
        rate_of_exact_nominal_mw_prob: '0.4139581256231306'
        rate_of_exact_nominal_mw_simil: '0.45782652043868394'
        rate_of_mw_difference_less_than_1_best_prob: '0.4362911266201396'
        rate_of_mw_difference_less_than_1_best_simil: '0.47098703888335'
    num_datapoints_tested: '5015'
    num_empty_preds: '0'
    num_predictions_at_k_counter: '[5015, 4948, 4891, 4851, 4815, 4763, 4725, 4692,
        4664, 4630, 4608, 4557, 4508, 4488, 4450, 4419, 4401, 4369, 4322, 4298, 4265,
        4230, 4177, 4142, 4104, 4052, 4027, 3988, 3925, 3878, 3820, 3762, 3699, 3635,
        3549, 3461, 3380, 3292, 3197, 3090, 2964, 2832, 2694, 2515, 2315, 2078, 1844,
        1545, 1158, 707]'
    precise_preds_stats:
        num_precise_preds_probsort: '980'
        num_precise_preds_similsort: '1853'
        rate_of_precise_preds_probsort: '0.19541375872382852'
        rate_of_precise_preds_similsort: '0.3694915254237288'
    simil_1_hits:
        counter_multiple_hits: dict_items([(1, 1743), (2, 97), (6, 6), (5, 4), (3,
            28), (4, 9), (11, 1), (8, 1), (7, 1), (13, 1), (17, 1)])
        num_1_hits_as_first_probsort: '1019'
        num_1_hits_as_first_similsort: '1892'
        num_fp_simil_fail_prob: '39'
        num_fp_simil_fail_simil: '39'
        rate_of_1_hits_as_first_probsort: '0.20319042871385842'
        rate_of_1_hits_as_first_similsort: '0.3772681954137587'
    start_time_utc: 14/12/2024 16:58:05
    threshold_stats:
        num_better_than_threshold_probsort: '1047'
        num_better_than_threshold_similsort: '1916'
        rate_of_better_than_threshold_probsort: '0.20877367896311066'
        rate_of_better_than_threshold_similsort: '0.3820538384845464'
        threshold: '0.85'
    topk_probsort: '[0.40966414672461926, 0.3185369400594018, 0.2838827232588318,
        0.2735528187058555, 0.2611063448708518, 0.25145029608726255, 0.24577427608049254,
        0.23924162822246917, 0.23718834932496913, 0.23184005827030246, 0.2308662521398559,
        0.22808689806002852, 0.2265454220605046, 0.2246515789368767, 0.22527475860466598,
        0.21672941977771484, 0.21789825063891613, 0.21924250231665862, 0.21208828015850836,
        0.21035941599654417, 0.20893594743925545, 0.20840877230973578, 0.20972310978121692,
        0.20907929203924228, 0.20570822522911292, 0.2011674734642072, 0.20418022043961262,
        0.20082362913154628, 0.19816542301565632, 0.19492799487181614, 0.194954022536725,
        0.1934433140056742, 0.1919617742818834, 0.18995818560322386, 0.18687769113524563,
        0.18834570950949256, 0.1853285568567203, 0.1866655758121681, 0.18161635625653,
        0.18221547357884765, 0.17642336366470532, 0.17516574843242408, 0.1740500682757019,
        0.16996804722498088, 0.16738001839585878, 0.16769935046685483, 0.1639088855080355,
        0.16147985177381363, 0.1557055937156072, 0.15015506545106]'
    topk_similsort: '[0.5781867645490482, 0.4114135835747013, 0.36065368911447326,
        0.33258339836063977, 0.3138128466004257, 0.29957410191644307, 0.28746051649859383,
        0.27719763618045185, 0.26809638629468685, 0.2599196165270204, 0.2523158559987881,
        0.2461282183019872, 0.24020490422141744, 0.23417655468956403, 0.22870150611121853,
        0.2235315209414762, 0.21874609589526156, 0.2140309860641081, 0.20984974815756793,
        0.20577958862063078, 0.20162724187558784, 0.19756418363992864, 0.19386760006936407,
        0.19023456373635073, 0.18634005440340487, 0.1828969376265277, 0.17947263253153667,
        0.1754137709468241, 0.17129297129897492, 0.16754690332808728, 0.16406489169577418,
        0.16087063773846552, 0.15678687053966628, 0.1531476434823118, 0.14923530725692066,
        0.14541686797640072, 0.141759560734974, 0.13810357423510208, 0.13404452834042618,
        0.12992304040924618, 0.1259750264801915, 0.12298069970950837, 0.11822180120892538,
        0.11493839410381078, 0.1104235814446031, 0.10680939764861316, 0.10198923531253458,
        0.09593980236299116, 0.08902802385578022, 0.0806619722898497]'
